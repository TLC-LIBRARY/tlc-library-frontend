{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":50,"index":95}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":96},"end":{"line":3,"column":26,"index":122}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useOverdueCheck = useOverdueCheck;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _contextsAuthContext = require(_dependencyMap[2], \"../contexts/AuthContext\");\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  function useOverdueCheck() {\n    _s();\n    const {\n      user\n    } = (0, _contextsAuthContext.useAuth)();\n    const [overdueSummary, setOverdueSummary] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      if (user?.role === 'member') {\n        loadOverdueSummary();\n      } else {\n        setLoading(false);\n      }\n    }, [user]);\n    const loadOverdueSummary = async () => {\n      try {\n        const token = user?.token;\n        const response = await axios.default.get(`${BACKEND_URL}/api/overdue/member/summary`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOverdueSummary(response.data);\n      } catch (error) {\n        console.error('Error loading overdue summary:', error);\n        setOverdueSummary(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const isAccessRestricted = () => {\n      if (user?.role !== 'member') return false;\n      return overdueSummary?.restricted_access || false;\n    };\n    const hasOverdue = () => {\n      if (user?.role !== 'member') return false;\n      return overdueSummary?.has_overdue || false;\n    };\n    const refreshOverdueStatus = () => {\n      if (user?.role === 'member') {\n        loadOverdueSummary();\n      }\n    };\n    return {\n      overdueSummary,\n      loading,\n      isAccessRestricted,\n      hasOverdue,\n      refreshOverdueStatus\n    };\n  }\n  _s(useOverdueCheck, \"4WOuyRqdl24qY825kBhBXqMhSL0=\", false, function () {\n    return [_contextsAuthContext.useAuth];\n  });\n});","lineCount":74,"map":[[13,2,16,0,"exports"],[13,9,16,0],[13,10,16,0,"useOverdueCheck"],[13,25,16,0],[13,28,16,0,"useOverdueCheck"],[13,43,16,0],[14,2,67,1],[14,6,67,1,"_expoVirtualEnv"],[14,21,67,1],[14,24,67,1,"require"],[14,31,67,1],[14,32,67,1,"_dependencyMap"],[14,46,67,1],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_contextsAuthContext"],[16,26,2,0],[16,29,2,0,"require"],[16,36,2,0],[16,37,2,0,"_dependencyMap"],[16,51,2,0],[17,2,3,0],[17,6,3,0,"_axios"],[17,12,3,0],[17,15,3,0,"require"],[17,22,3,0],[17,23,3,0,"_dependencyMap"],[17,37,3,0],[18,2,3,0],[18,6,3,0,"axios"],[18,11,3,0],[18,14,3,0,"_interopDefault"],[18,29,3,0],[18,30,3,0,"_axios"],[18,36,3,0],[19,2,5,0],[19,8,5,6,"BACKEND_URL"],[19,19,5,17],[19,22,5,20,"_expoVirtualEnv"],[19,37,5,20],[19,38,5,20,"env"],[19,41,5,20],[19,42,5,20,"EXPO_PUBLIC_BACKEND_URL"],[19,65,5,20],[19,69,5,59],[19,71,5,61],[20,2,16,7],[20,11,16,16,"useOverdueCheck"],[20,26,16,31,"useOverdueCheck"],[20,27,16,31],[20,29,16,34],[21,4,16,34,"_s"],[21,6,16,34],[22,4,17,2],[22,10,17,8],[23,6,17,10,"user"],[24,4,17,15],[24,5,17,16],[24,8,17,19],[24,12,17,19,"useAuth"],[24,32,17,26],[24,33,17,26,"useAuth"],[24,40,17,26],[24,42,17,27],[24,43,17,28],[25,4,18,2],[25,10,18,8],[25,11,18,9,"overdueSummary"],[25,25,18,23],[25,27,18,25,"setOverdueSummary"],[25,44,18,42],[25,45,18,43],[25,48,18,46],[25,52,18,46,"useState"],[25,58,18,54],[25,59,18,54,"useState"],[25,67,18,54],[25,69,18,78],[25,73,18,82],[25,74,18,83],[26,4,19,2],[26,10,19,8],[26,11,19,9,"loading"],[26,18,19,16],[26,20,19,18,"setLoading"],[26,30,19,28],[26,31,19,29],[26,34,19,32],[26,38,19,32,"useState"],[26,44,19,40],[26,45,19,40,"useState"],[26,53,19,40],[26,55,19,41],[26,59,19,45],[26,60,19,46],[27,4,21,2],[27,8,21,2,"useEffect"],[27,14,21,11],[27,15,21,11,"useEffect"],[27,24,21,11],[27,26,21,12],[27,32,21,18],[28,6,22,4],[28,10,22,8,"user"],[28,14,22,12],[28,16,22,14,"role"],[28,20,22,18],[28,25,22,23],[28,33,22,31],[28,35,22,33],[29,8,23,6,"loadOverdueSummary"],[29,26,23,24],[29,27,23,25],[29,28,23,26],[30,6,24,4],[30,7,24,5],[30,13,24,11],[31,8,25,6,"setLoading"],[31,18,25,16],[31,19,25,17],[31,24,25,22],[31,25,25,23],[32,6,26,4],[33,4,27,2],[33,5,27,3],[33,7,27,5],[33,8,27,6,"user"],[33,12,27,10],[33,13,27,11],[33,14,27,12],[34,4,29,2],[34,10,29,8,"loadOverdueSummary"],[34,28,29,26],[34,31,29,29],[34,37,29,29,"loadOverdueSummary"],[34,38,29,29],[34,43,29,41],[35,6,30,4],[35,10,30,8],[36,8,31,6],[36,14,31,12,"token"],[36,19,31,17],[36,22,31,20,"user"],[36,26,31,24],[36,28,31,26,"token"],[36,33,31,31],[37,8,32,6],[37,14,32,12,"response"],[37,22,32,20],[37,25,32,23],[37,31,32,29,"axios"],[37,36,32,34],[37,37,32,34,"default"],[37,44,32,34],[37,45,32,35,"get"],[37,48,32,38],[37,49,32,39],[37,52,32,42,"BACKEND_URL"],[37,63,32,53],[37,92,32,82],[37,94,32,84],[38,10,33,8,"headers"],[38,17,33,15],[38,19,33,17],[39,12,33,19,"Authorization"],[39,25,33,32],[39,27,33,34],[39,37,33,44,"token"],[39,42,33,49],[40,10,33,52],[41,8,34,6],[41,9,34,7],[41,10,34,8],[42,8,35,6,"setOverdueSummary"],[42,25,35,23],[42,26,35,24,"response"],[42,34,35,32],[42,35,35,33,"data"],[42,39,35,37],[42,40,35,38],[43,6,36,4],[43,7,36,5],[43,8,36,6],[43,15,36,13,"error"],[43,20,36,18],[43,22,36,20],[44,8,37,6,"console"],[44,15,37,13],[44,16,37,14,"error"],[44,21,37,19],[44,22,37,20],[44,54,37,52],[44,56,37,54,"error"],[44,61,37,59],[44,62,37,60],[45,8,38,6,"setOverdueSummary"],[45,25,38,23],[45,26,38,24],[45,30,38,28],[45,31,38,29],[46,6,39,4],[46,7,39,5],[46,16,39,14],[47,8,40,6,"setLoading"],[47,18,40,16],[47,19,40,17],[47,24,40,22],[47,25,40,23],[48,6,41,4],[49,4,42,2],[49,5,42,3],[50,4,44,2],[50,10,44,8,"isAccessRestricted"],[50,28,44,26],[50,31,44,29,"isAccessRestricted"],[50,32,44,29],[50,37,44,35],[51,6,45,4],[51,10,45,8,"user"],[51,14,45,12],[51,16,45,14,"role"],[51,20,45,18],[51,25,45,23],[51,33,45,31],[51,35,45,33],[51,42,45,40],[51,47,45,45],[52,6,46,4],[52,13,46,11,"overdueSummary"],[52,27,46,25],[52,29,46,27,"restricted_access"],[52,46,46,44],[52,50,46,48],[52,55,46,53],[53,4,47,2],[53,5,47,3],[54,4,49,2],[54,10,49,8,"hasOverdue"],[54,20,49,18],[54,23,49,21,"hasOverdue"],[54,24,49,21],[54,29,49,27],[55,6,50,4],[55,10,50,8,"user"],[55,14,50,12],[55,16,50,14,"role"],[55,20,50,18],[55,25,50,23],[55,33,50,31],[55,35,50,33],[55,42,50,40],[55,47,50,45],[56,6,51,4],[56,13,51,11,"overdueSummary"],[56,27,51,25],[56,29,51,27,"has_overdue"],[56,40,51,38],[56,44,51,42],[56,49,51,47],[57,4,52,2],[57,5,52,3],[58,4,54,2],[58,10,54,8,"refreshOverdueStatus"],[58,30,54,28],[58,33,54,31,"refreshOverdueStatus"],[58,34,54,31],[58,39,54,37],[59,6,55,4],[59,10,55,8,"user"],[59,14,55,12],[59,16,55,14,"role"],[59,20,55,18],[59,25,55,23],[59,33,55,31],[59,35,55,33],[60,8,56,6,"loadOverdueSummary"],[60,26,56,24],[60,27,56,25],[60,28,56,26],[61,6,57,4],[62,4,58,2],[62,5,58,3],[63,4,60,2],[63,11,60,9],[64,6,61,4,"overdueSummary"],[64,20,61,18],[65,6,62,4,"loading"],[65,13,62,11],[66,6,63,4,"isAccessRestricted"],[66,24,63,22],[67,6,64,4,"hasOverdue"],[67,16,64,14],[68,6,65,4,"refreshOverdueStatus"],[69,4,66,2],[69,5,66,3],[70,2,67,0],[71,2,67,1,"_s"],[71,4,67,1],[71,5,16,16,"useOverdueCheck"],[71,20,16,31],[72,4,16,31],[72,12,17,19,"useAuth"],[72,32,17,26],[72,33,17,26,"useAuth"],[72,40,17,26],[73,2,17,26],[74,0,17,26],[74,3]],"functionMap":{"names":["<global>","useOverdueCheck","useEffect$argument_0","loadOverdueSummary","isAccessRestricted","hasOverdue","refreshOverdueStatus"],"mappings":"AAA;OCe;YCK;GDM;6BEE;GFa;6BGE;GHG;qBIE;GJG;+BKE;GLI;CDS"},"hasCjsExports":false},"type":"js/module"}]}