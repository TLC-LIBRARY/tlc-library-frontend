{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":50,"index":95}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":96},"end":{"line":3,"column":26,"index":122}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useOverdueCheck = useOverdueCheck;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _contextsAuthContext = require(_dependencyMap[1], \"../contexts/AuthContext\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  function useOverdueCheck() {\n    const {\n      user\n    } = (0, _contextsAuthContext.useAuth)();\n    const [overdueSummary, setOverdueSummary] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      if (user?.role === 'member') {\n        loadOverdueSummary();\n      } else {\n        setLoading(false);\n      }\n    }, [user]);\n    const loadOverdueSummary = async () => {\n      try {\n        const token = user?.token;\n        const response = await axios.default.get(`${BACKEND_URL}/api/overdue/member/summary`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOverdueSummary(response.data);\n      } catch (error) {\n        console.error('Error loading overdue summary:', error);\n        setOverdueSummary(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const isAccessRestricted = () => {\n      if (user?.role !== 'member') return false;\n      return overdueSummary?.restricted_access || false;\n    };\n    const hasOverdue = () => {\n      if (user?.role !== 'member') return false;\n      return overdueSummary?.has_overdue || false;\n    };\n    const refreshOverdueStatus = () => {\n      if (user?.role === 'member') {\n        loadOverdueSummary();\n      }\n    };\n    return {\n      overdueSummary,\n      loading,\n      isAccessRestricted,\n      hasOverdue,\n      refreshOverdueStatus\n    };\n  }\n});","lineCount":68,"map":[[12,2,16,0,"exports"],[12,9,16,0],[12,10,16,0,"useOverdueCheck"],[12,25,16,0],[12,28,16,0,"useOverdueCheck"],[12,43,16,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_contextsAuthContext"],[14,26,2,0],[14,29,2,0,"require"],[14,36,2,0],[14,37,2,0,"_dependencyMap"],[14,51,2,0],[15,2,3,0],[15,6,3,0,"_axios"],[15,12,3,0],[15,15,3,0,"require"],[15,22,3,0],[15,23,3,0,"_dependencyMap"],[15,37,3,0],[16,2,3,0],[16,6,3,0,"axios"],[16,11,3,0],[16,14,3,0,"_interopDefault"],[16,29,3,0],[16,30,3,0,"_axios"],[16,36,3,0],[17,2,5,0],[17,8,5,6,"BACKEND_URL"],[17,19,5,17],[17,22,5,20,"process"],[17,29,5,27],[17,30,5,28,"env"],[17,33,5,31],[17,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[17,57,5,55],[17,61,5,59],[17,63,5,61],[18,2,16,7],[18,11,16,16,"useOverdueCheck"],[18,26,16,31,"useOverdueCheck"],[18,27,16,31],[18,29,16,34],[19,4,17,2],[19,10,17,8],[20,6,17,10,"user"],[21,4,17,15],[21,5,17,16],[21,8,17,19],[21,12,17,19,"useAuth"],[21,32,17,26],[21,33,17,26,"useAuth"],[21,40,17,26],[21,42,17,27],[21,43,17,28],[22,4,18,2],[22,10,18,8],[22,11,18,9,"overdueSummary"],[22,25,18,23],[22,27,18,25,"setOverdueSummary"],[22,44,18,42],[22,45,18,43],[22,48,18,46],[22,52,18,46,"useState"],[22,58,18,54],[22,59,18,54,"useState"],[22,67,18,54],[22,69,18,78],[22,73,18,82],[22,74,18,83],[23,4,19,2],[23,10,19,8],[23,11,19,9,"loading"],[23,18,19,16],[23,20,19,18,"setLoading"],[23,30,19,28],[23,31,19,29],[23,34,19,32],[23,38,19,32,"useState"],[23,44,19,40],[23,45,19,40,"useState"],[23,53,19,40],[23,55,19,41],[23,59,19,45],[23,60,19,46],[24,4,21,2],[24,8,21,2,"useEffect"],[24,14,21,11],[24,15,21,11,"useEffect"],[24,24,21,11],[24,26,21,12],[24,32,21,18],[25,6,22,4],[25,10,22,8,"user"],[25,14,22,12],[25,16,22,14,"role"],[25,20,22,18],[25,25,22,23],[25,33,22,31],[25,35,22,33],[26,8,23,6,"loadOverdueSummary"],[26,26,23,24],[26,27,23,25],[26,28,23,26],[27,6,24,4],[27,7,24,5],[27,13,24,11],[28,8,25,6,"setLoading"],[28,18,25,16],[28,19,25,17],[28,24,25,22],[28,25,25,23],[29,6,26,4],[30,4,27,2],[30,5,27,3],[30,7,27,5],[30,8,27,6,"user"],[30,12,27,10],[30,13,27,11],[30,14,27,12],[31,4,29,2],[31,10,29,8,"loadOverdueSummary"],[31,28,29,26],[31,31,29,29],[31,37,29,29,"loadOverdueSummary"],[31,38,29,29],[31,43,29,41],[32,6,30,4],[32,10,30,8],[33,8,31,6],[33,14,31,12,"token"],[33,19,31,17],[33,22,31,20,"user"],[33,26,31,24],[33,28,31,26,"token"],[33,33,31,31],[34,8,32,6],[34,14,32,12,"response"],[34,22,32,20],[34,25,32,23],[34,31,32,29,"axios"],[34,36,32,34],[34,37,32,34,"default"],[34,44,32,34],[34,45,32,35,"get"],[34,48,32,38],[34,49,32,39],[34,52,32,42,"BACKEND_URL"],[34,63,32,53],[34,92,32,82],[34,94,32,84],[35,10,33,8,"headers"],[35,17,33,15],[35,19,33,17],[36,12,33,19,"Authorization"],[36,25,33,32],[36,27,33,34],[36,37,33,44,"token"],[36,42,33,49],[37,10,33,52],[38,8,34,6],[38,9,34,7],[38,10,34,8],[39,8,35,6,"setOverdueSummary"],[39,25,35,23],[39,26,35,24,"response"],[39,34,35,32],[39,35,35,33,"data"],[39,39,35,37],[39,40,35,38],[40,6,36,4],[40,7,36,5],[40,8,36,6],[40,15,36,13,"error"],[40,20,36,18],[40,22,36,20],[41,8,37,6,"console"],[41,15,37,13],[41,16,37,14,"error"],[41,21,37,19],[41,22,37,20],[41,54,37,52],[41,56,37,54,"error"],[41,61,37,59],[41,62,37,60],[42,8,38,6,"setOverdueSummary"],[42,25,38,23],[42,26,38,24],[42,30,38,28],[42,31,38,29],[43,6,39,4],[43,7,39,5],[43,16,39,14],[44,8,40,6,"setLoading"],[44,18,40,16],[44,19,40,17],[44,24,40,22],[44,25,40,23],[45,6,41,4],[46,4,42,2],[46,5,42,3],[47,4,44,2],[47,10,44,8,"isAccessRestricted"],[47,28,44,26],[47,31,44,29,"isAccessRestricted"],[47,32,44,29],[47,37,44,35],[48,6,45,4],[48,10,45,8,"user"],[48,14,45,12],[48,16,45,14,"role"],[48,20,45,18],[48,25,45,23],[48,33,45,31],[48,35,45,33],[48,42,45,40],[48,47,45,45],[49,6,46,4],[49,13,46,11,"overdueSummary"],[49,27,46,25],[49,29,46,27,"restricted_access"],[49,46,46,44],[49,50,46,48],[49,55,46,53],[50,4,47,2],[50,5,47,3],[51,4,49,2],[51,10,49,8,"hasOverdue"],[51,20,49,18],[51,23,49,21,"hasOverdue"],[51,24,49,21],[51,29,49,27],[52,6,50,4],[52,10,50,8,"user"],[52,14,50,12],[52,16,50,14,"role"],[52,20,50,18],[52,25,50,23],[52,33,50,31],[52,35,50,33],[52,42,50,40],[52,47,50,45],[53,6,51,4],[53,13,51,11,"overdueSummary"],[53,27,51,25],[53,29,51,27,"has_overdue"],[53,40,51,38],[53,44,51,42],[53,49,51,47],[54,4,52,2],[54,5,52,3],[55,4,54,2],[55,10,54,8,"refreshOverdueStatus"],[55,30,54,28],[55,33,54,31,"refreshOverdueStatus"],[55,34,54,31],[55,39,54,37],[56,6,55,4],[56,10,55,8,"user"],[56,14,55,12],[56,16,55,14,"role"],[56,20,55,18],[56,25,55,23],[56,33,55,31],[56,35,55,33],[57,8,56,6,"loadOverdueSummary"],[57,26,56,24],[57,27,56,25],[57,28,56,26],[58,6,57,4],[59,4,58,2],[59,5,58,3],[60,4,60,2],[60,11,60,9],[61,6,61,4,"overdueSummary"],[61,20,61,18],[62,6,62,4,"loading"],[62,13,62,11],[63,6,63,4,"isAccessRestricted"],[63,24,63,22],[64,6,64,4,"hasOverdue"],[64,16,64,14],[65,6,65,4,"refreshOverdueStatus"],[66,4,66,2],[66,5,66,3],[67,2,67,0],[68,0,67,1],[68,3]],"functionMap":{"names":["<global>","useOverdueCheck","useEffect$argument_0","loadOverdueSummary","isAccessRestricted","hasOverdue","refreshOverdueStatus"],"mappings":"AAA;OCe;YCK;GDM;6BEE;GFa;6BGE;GHG;qBIE;GJG;+BKE;GLI;CDS"},"hasCjsExports":false},"type":"js/module"}]}